box: olger/box-yeoman
# Build definition
build:
  # The steps that will be executed on build
  steps:
    # A step that executes `npm install` command
    - script:
        name: Make sure gulp is installed
        code: sudo npm install gulp -g
    - script:
        name: Copying config
        code: cp $CONFIG_FILE app/overwrite.js
    - npm-install
    - leipert/yeoman-bower-install
    - script:
        name: Test and build gsb
        code: gulp
    - script:
        name: Copying config
        code: mkdir -p dist/config && cp -r config/* dist/config/


deploy:
  steps:
    - leipert/git-push:
         gh_token: $GH_TOKEN
         gh_pages: true
         basedir: dist
         discard_history: true
    - leipert/git-push:
         gh_token: $GH_TOKEN
         host: github.com
         repo: leipert/gsb
         branch: dist
         basedir: dist